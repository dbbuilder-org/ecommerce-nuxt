# SchoolVision Ecommerce - Nuxt 3 Environment Configuration
# Copy this file to .env and fill in your actual values
# IMPORTANT: .env is gitignored - never commit secrets to repository

# ========================================
# SERVER-SIDE SECRETS (Never exposed to browser)
# ========================================
# These are stored on the Nuxt server and NEVER sent to the client
# This is the key security improvement over the SPA architecture
PAYMENT_API_SECRET=your-payment-api-secret-key
PAYMENT_API_BASE_URL=https://paymentapi-ecommerce-test-v2.azurewebsites.net
SIGNING_KEY=your-hmac-signing-key-for-request-verification

# ========================================
# PUBLIC CONFIGURATION (Safe for browser)
# ========================================
# Variables prefixed with NUXT_PUBLIC_ are available on both server and client
NUXT_PUBLIC_SCHOOL_CODE=westmoreland
NUXT_PUBLIC_SCHOOL_NAME=Westmoreland County Community College
NUXT_PUBLIC_THEME=westmoreland
NUXT_PUBLIC_RECAPTCHA_SITE_KEY=6Ld4dqkdAAAAAAHq9rPfvqbcStxmKtoLQ9QI96oK

# ========================================
# SCHOOL-SPECIFIC OVERRIDES
# ========================================
# For Windermere:
# NUXT_PUBLIC_SCHOOL_CODE=windermere
# NUXT_PUBLIC_SCHOOL_NAME=Windermere Preparatory School
# NUXT_PUBLIC_THEME=windermere
# PAYMENT_API_BASE_URL=https://paymentapi-ecommerce-test-v2.azurewebsites.net

# ========================================
# DEVELOPMENT
# ========================================
NODE_ENV=development

# ========================================
# SECURITY NOTES
# ========================================
# Unlike the Vue SPA version, API secrets are now stored on the server.
# The browser calls /api/ecommerce/* routes which are handled by Nuxt
# server routes (in server/api/). These routes add the API key and
# sign requests before forwarding to the Payment API.
#
# This means:
# 1. API keys are NEVER sent to the browser
# 2. Attackers cannot extract API keys from DevTools
# 3. Fake frontends would need to deploy their own backend
# 4. Request signing prevents replay attacks
